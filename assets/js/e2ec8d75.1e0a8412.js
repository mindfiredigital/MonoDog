"use strict";(self.webpackChunk_monodog_docs=self.webpackChunk_monodog_docs||[]).push([[117],{1106:function(e,n,a){n.A=a.p+"assets/images/package-scan-09486859e2317c76b8e3236fd6ba03f2.png"},2889:function(e,n,a){a.r(n),a.d(n,{assets:function(){return t},contentTitle:function(){return o},default:function(){return p},frontMatter:function(){return r},metadata:function(){return i},toc:function(){return l}});var i=JSON.parse('{"id":"features/package-scanning","title":"Package Scanning","description":"Monodog\'s package scanning feature automatically finds and analyzes all packages in your monorepo.","source":"@site/docs/features/package-scanning.md","sourceDirName":"features","slug":"/features/package-scanning","permalink":"/monodog/features/package-scanning","draft":false,"unlisted":false,"editUrl":"https://github.com/mindfiredigital/monodog/tree/main/docs/docs/features/package-scanning.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Package Scanning"},"sidebar":"tutorialSidebar","previous":{"title":"Config Endpoint","permalink":"/monodog/api-reference/config"},"next":{"title":"Health Monitoring","permalink":"/monodog/features/health-monitoring"}}'),s=a(4848),c=a(8453);const r={sidebar_position:1,title:"Package Scanning"},o="Package Scanning",t={},l=[{value:"Overview",id:"overview",level:2},{value:"How it Works",id:"how-it-works",level:2},{value:"1. Workspace Detection",id:"1-workspace-detection",level:3},{value:"2. Package Discovery",id:"2-package-discovery",level:3},{value:"3. Metadata Extraction",id:"3-metadata-extraction",level:3},{value:"4. Dependency Analysis",id:"4-dependency-analysis",level:3},{value:"Scanning Methods",id:"scanning-methods",level:2},{value:"Manual Scanning",id:"manual-scanning",level:3},{value:"Accessing Scan Results",id:"accessing-scan-results",level:2},{value:"Via API",id:"via-api",level:3},{value:"Via Dashboard",id:"via-dashboard",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Packages Not Found",id:"packages-not-found",level:3},{value:"Missing Dependencies",id:"missing-dependencies",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"package-scanning",children:"Package Scanning"})}),"\n",(0,s.jsx)(n.p,{children:"Monodog's package scanning feature automatically finds and analyzes all packages in your monorepo."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Package scanning is the core of Monodog. It:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Discovers all packages in your monorepo."}),"\n",(0,s.jsx)(n.li,{children:"Analyzes package details (name, version, description)."}),"\n",(0,s.jsx)(n.li,{children:"Maps dependencies between packages."}),"\n",(0,s.jsx)(n.li,{children:"Identifies configuration files."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Screenshot of the package scan",src:a(1106).A+"",title:"Package Scan Screen(Dashboard)",width:"1593",height:"807"})}),"\n",(0,s.jsx)(n.h2,{id:"how-it-works",children:"How it Works"}),"\n",(0,s.jsx)(n.h3,{id:"1-workspace-detection",children:"1. Workspace Detection"}),"\n",(0,s.jsxs)(n.p,{children:["Monodog first identifies your packages by looking for ",(0,s.jsx)(n.code,{children:'"workspaces"'})," in ",(0,s.jsx)(n.code,{children:"package.json"})," or else ",(0,s.jsx)(n.code,{children:'"packages"'})," in ",(0,s.jsx)(n.code,{children:"pnpm-workspaces.yaml"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"2-package-discovery",children:"2. Package Discovery"}),"\n",(0,s.jsx)(n.p,{children:"Then it searches for packages using glob patterns:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"packages/*\napps/*\nlibs/*\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-metadata-extraction",children:"3. Metadata Extraction"}),"\n",(0,s.jsx)(n.p,{children:"For each package found, Monodog gathers:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "name": "@scope/package",\n  "path": "packages/package",\n  "version": "1.0.0",\n  "description": "Package description",\n  "private": false,\n  "license": "MIT",\n  "scripts": {\n    "build": "vite build",\n    "test": "vitest run",\n    "lint": "eslint ."\n  },\n  "dependencies": {\n    "@scope/package2": "workspace:*"\n  },\n  "devDependencies": {\n    "@vue/test-utils": "^2.4.0",\n    "@vitest/coverage-v8": "^0.34.0",\n  },\n  "peerDependencies": {\n    "vue": ">=3.0.0"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"4-dependency-analysis",children:"4. Dependency Analysis"}),"\n",(0,s.jsx)(n.p,{children:"Monodog examines:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Internal dependencies (between packages in the monorepo)."}),"\n",(0,s.jsx)(n.li,{children:"External dependencies (npm packages)."}),"\n",(0,s.jsx)(n.li,{children:"Peer dependencies."}),"\n",(0,s.jsx)(n.li,{children:"Development dependencies."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"scanning-methods",children:"Scanning Methods"}),"\n",(0,s.jsx)(n.h3,{id:"manual-scanning",children:"Manual Scanning"}),"\n",(0,s.jsx)(n.p,{children:"Start a scan via API:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl -X POST http://localhost:8999/api/packages/refresh\n"})}),"\n",(0,s.jsx)(n.h2,{id:"accessing-scan-results",children:"Accessing Scan Results"}),"\n",(0,s.jsx)(n.h3,{id:"via-api",children:"Via API"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Get all packages\ncurl http://localhost:8999/api/packages\n\n# Get specific package\ncurl http://localhost:8999/api/packages/{packagename}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"via-dashboard",children:"Via Dashboard"}),"\n",(0,s.jsxs)(n.p,{children:["View results in the Monodog dashboard at ",(0,s.jsx)(n.code,{children:"http://localhost:3010"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"packages-not-found",children:"Packages Not Found"}),"\n",(0,s.jsx)(n.p,{children:"Check your workspace configuration and included paths:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Verify config\ncat pnpm-workspace.yaml\n"})}),"\n",(0,s.jsx)(n.h3,{id:"missing-dependencies",children:"Missing Dependencies"}),"\n",(0,s.jsxs)(n.p,{children:["Make sure all dependencies are listed in ",(0,s.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Verify dependencies\ncat packages/my-package/package.json | grep -A 10 dependencies\n"})}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/features/health-monitoring",children:"Health Monitoring"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/features/dependency-analysis",children:"Dependency Analysis"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/api-reference/packages",children:"API Reference - Packages"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:function(e,n,a){a.d(n,{R:function(){return r},x:function(){return o}});var i=a(6540);const s={},c=i.createContext(s);function r(e){const n=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);